---

title: 从零学习爬虫 Crawler from scratch

keywords: fastai
sidebar: home_sidebar

summary: "运用Jupyter Notebook 演示爬虫是如何运作的"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    {% raw %}
        
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#23398;&#20064;&#20934;&#22791;">&#23398;&#20064;&#20934;&#22791;<a class="anchor-link" href="#&#23398;&#20064;&#20934;&#22791;">&#182;</a></h2><ol>
<li>具备1年代码经验，熟悉python</li>
</ol>
<ul>
<li>了解HTML，以及网络传输的基础知识</li>
<li>以一个全新的心态面对这个学习过程<ul>
<li>一定能学会，因为我自己也只是个PM</li>
<li>jupyter notebook 特有的交互式展示方式，很好的还原了爬虫运行的每个环节，一看就懂</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#23398;&#20064;&#22823;&#32434;&#65306;">&#23398;&#20064;&#22823;&#32434;&#65306;<a class="anchor-link" href="#&#23398;&#20064;&#22823;&#32434;&#65306;">&#182;</a></h2><ol>
<li>初级-入门<ul>
<li>最简单的爬虫，以及解析数据，存储成json  <a href="/notebooks/crawler_from_scratch/nbs/00_Getting_Started.ipynb">00_Getting_Started</a></li>
<li>加cookie和headers，如何获取 <a href="/notebooks/crawler_from_scratch/nbs/01_Advanced_Request.ipynb">01_Advanced_Request</a></li>
<li>批量爬页面</li>
</ul>
</li>
</ol>
<ul>
<li>中级-大量数据<ul>
<li>代理</li>
<li>数据库</li>
<li>数据分析 numpy matplot</li>
<li>探索式爬取</li>
<li>断点续爬</li>
</ul>
</li>
<li>高级-海量数据<ul>
<li>分布式存储？</li>
<li>seleium模拟登陆，获取cookie</li>
<li>海量数据分析 vaex 一个开源的 DataFrame 库</li>
<li>服务器部署</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#23398;&#20064;&#36164;&#26009;&#65306;">&#23398;&#20064;&#36164;&#26009;&#65306;<a class="anchor-link" href="#&#23398;&#20064;&#36164;&#26009;&#65306;">&#182;</a></h2><ol>
<li><a href="https://github.com/fastai/nbdev">nbdev</a>:fastai开源的探索式编程IDE<ul>
<li><a href="https://github.com/fastai/nbdev_template/generate">用模板创建</a>一个github项目 </li>
<li>修改setting.ini 所有配置都在这里</li>
<li>nbdev_build_lib 生成.py的文件 <a href="http://nbdev.fast.ai/cli/">其他命令</a></li>
<li>nbdev_build_docs 生成文档所需文件</li>
</ul>
</li>
</ol>
<ul>
<li><a href="https://www.anaconda.com/distribution/">Anaconda</a> 打包了用Python进行数据分析需要的一切环境</li>
<li><a href="https://jupyter.org/">Jupyter</a> Notebook 基于Web的交互式计算环境<ul>
<li>Enter/双击: 进入编辑模式</li>
<li>Esc: 退出编辑模式</li>
<li>命令行/非编辑模式<ul>
<li>D,D: 删除选中单元格</li>
<li>A/B: 上方/下方插入新代码块</li>
<li>H: 显示快捷键</li>
<li>O: 选择单元格的输出</li>
</ul>
</li>
<li>编辑模式<ul>
<li>⇧↩: 运行代码块, 并选择下面的代码块</li>
<li>⇧M: 合并选中单元格</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://www.runoob.com/markdown/md-tutorial.html">markdown</a>一种轻量级标记语言，可以便捷的为这里的文字添加样式</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="&#21457;&#24067;">&#21457;&#24067;<a class="anchor-link" href="#&#21457;&#24067;">&#182;</a></h2><blockquote><p>将文件打包，上传到github</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip install nbdev -U
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Collecting nbdev
  Using cached https://files.pythonhosted.org/packages/c4/7a/a3a3ec1018cf8d054e92c0856c2aea4232bcc5147172b88170b2467d6f33/nbdev-0.2.12-py3-none-any.whl
Collecting nbconvert&gt;=5.6.1 (from nbdev)
  Downloading https://files.pythonhosted.org/packages/79/6c/05a569e9f703d18aacb89b7ad6075b404e8a4afde2c26b73ca77bb644b14/nbconvert-5.6.1-py2.py3-none-any.whl (455kB)
     |████████████████████████████████| 460kB 16kB/s eta 0:00:016
Requirement already satisfied, skipping upgrade: nbformat&gt;=4.4.0 in /opt/anaconda3/lib/python3.7/site-packages (from nbdev) (4.4.0)
Requirement already satisfied, skipping upgrade: pyyaml in /opt/anaconda3/lib/python3.7/site-packages (from nbdev) (5.1.2)
Requirement already satisfied, skipping upgrade: fastscript in /opt/anaconda3/lib/python3.7/site-packages (from nbdev) (0.1.4)
Requirement already satisfied, skipping upgrade: packaging in /opt/anaconda3/lib/python3.7/site-packages (from nbdev) (19.2)
Requirement already satisfied, skipping upgrade: traitlets&gt;=4.2 in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (4.3.3)
Requirement already satisfied, skipping upgrade: defusedxml in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (0.6.0)
Requirement already satisfied, skipping upgrade: bleach in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (3.1.0)
Requirement already satisfied, skipping upgrade: testpath in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (0.4.2)
Requirement already satisfied, skipping upgrade: pygments in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (2.4.2)
Requirement already satisfied, skipping upgrade: jinja2&gt;=2.4 in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (2.10.3)
Requirement already satisfied, skipping upgrade: entrypoints&gt;=0.2.2 in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (0.3)
Requirement already satisfied, skipping upgrade: pandocfilters&gt;=1.4.1 in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (1.4.2)
Requirement already satisfied, skipping upgrade: jupyter-core in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (4.5.0)
Requirement already satisfied, skipping upgrade: mistune&lt;2,&gt;=0.8.1 in /opt/anaconda3/lib/python3.7/site-packages (from nbconvert&gt;=5.6.1-&gt;nbdev) (0.8.4)
Requirement already satisfied, skipping upgrade: jsonschema!=2.5.0,&gt;=2.4 in /opt/anaconda3/lib/python3.7/site-packages (from nbformat&gt;=4.4.0-&gt;nbdev) (3.0.2)
Requirement already satisfied, skipping upgrade: ipython-genutils in /opt/anaconda3/lib/python3.7/site-packages (from nbformat&gt;=4.4.0-&gt;nbdev) (0.2.0)
Requirement already satisfied, skipping upgrade: six in /opt/anaconda3/lib/python3.7/site-packages (from packaging-&gt;nbdev) (1.12.0)
Requirement already satisfied, skipping upgrade: pyparsing&gt;=2.0.2 in /opt/anaconda3/lib/python3.7/site-packages (from packaging-&gt;nbdev) (2.4.2)
Requirement already satisfied, skipping upgrade: decorator in /opt/anaconda3/lib/python3.7/site-packages (from traitlets&gt;=4.2-&gt;nbconvert&gt;=5.6.1-&gt;nbdev) (4.4.0)
Requirement already satisfied, skipping upgrade: webencodings in /opt/anaconda3/lib/python3.7/site-packages (from bleach-&gt;nbconvert&gt;=5.6.1-&gt;nbdev) (0.5.1)
Requirement already satisfied, skipping upgrade: MarkupSafe&gt;=0.23 in /opt/anaconda3/lib/python3.7/site-packages (from jinja2&gt;=2.4-&gt;nbconvert&gt;=5.6.1-&gt;nbdev) (1.1.1)
Requirement already satisfied, skipping upgrade: pyrsistent&gt;=0.14.0 in /opt/anaconda3/lib/python3.7/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=4.4.0-&gt;nbdev) (0.15.4)
Requirement already satisfied, skipping upgrade: setuptools in /opt/anaconda3/lib/python3.7/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=4.4.0-&gt;nbdev) (41.4.0)
Requirement already satisfied, skipping upgrade: attrs&gt;=17.4.0 in /opt/anaconda3/lib/python3.7/site-packages (from jsonschema!=2.5.0,&gt;=2.4-&gt;nbformat&gt;=4.4.0-&gt;nbdev) (19.2.0)
<span class="ansi-red-fg">ERROR: spyder 3.3.6 requires pyqt5&lt;5.13; python_version &gt;= &#34;3&#34;, which is not installed.</span>
<span class="ansi-red-fg">ERROR: spyder 3.3.6 requires pyqtwebengine&lt;5.13; python_version &gt;= &#34;3&#34;, which is not installed.</span>
Installing collected packages: nbconvert, nbdev
  Found existing installation: nbconvert 5.6.0
    Uninstalling nbconvert-5.6.0:
      Successfully uninstalled nbconvert-5.6.0
  Found existing installation: nbdev 0.2.9
    Uninstalling nbdev-0.2.9:
      Successfully uninstalled nbdev-0.2.9
Successfully installed nbconvert-5.6.1 nbdev-0.2.12
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>nbdev_build_lib
<span class="c1"># !nbdev_build_docs</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Traceback (most recent call last):
  File &#34;/opt/anaconda3/bin/nbdev_build_lib&#34;, line 10, in &lt;module&gt;
    sys.exit(nbdev_build_lib())
  File &#34;/opt/anaconda3/lib/python3.7/site-packages/fastscript/core.py&#34;, line 73, in _f
    func(**args.__dict__)
  File &#34;/opt/anaconda3/lib/python3.7/site-packages/nbdev/cli.py&#34;, line 20, in nbdev_build_lib
    write_tmpls()
  File &#34;/opt/anaconda3/lib/python3.7/site-packages/nbdev/export2html.py&#34;, line 357, in write_tmpls
    write_tmpl(config_tmpl, &#39;user lib_name title copyright description&#39;, cfg, cfg.doc_path/&#39;_config.yml&#39;)
  File &#34;/opt/anaconda3/lib/python3.7/site-packages/nbdev/export2html.py&#34;, line 351, in write_tmpl
    dest.write_text(outp)
  File &#34;/opt/anaconda3/lib/python3.7/pathlib.py&#34;, line 1225, in write_text
    with self.open(mode=&#39;w&#39;, encoding=encoding, errors=errors) as f:
  File &#34;/opt/anaconda3/lib/python3.7/pathlib.py&#34;, line 1193, in open
    opener=self._opener)
  File &#34;/opt/anaconda3/lib/python3.7/pathlib.py&#34;, line 1046, in _opener
    return self._accessor.open(self, flags, mode)
FileNotFoundError: [Errno 2] No such file or directory: &#39;/Users/Neo/crawler_from_scratch/docs/_config.yml&#39;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git status
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>On branch master
Your branch and &#39;origin/master&#39; have diverged,
and have 1 and 1 different commits each, respectively.
  (use &#34;git pull&#34; to merge the remote branch into yours)

All conflicts fixed but you are still merging.
  (use &#34;git commit&#34; to conclude merge)

Changes to be committed:

	<span class="ansi-green-fg">new file:   ../_config.yml</span>

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)

	<span class="ansi-red-fg">../data/</span>
	<span class="ansi-red-fg">../docs/Getting_Started.html</span>
	<span class="ansi-red-fg">../docs/index.html</span>
	<span class="ansi-red-fg">./</span>

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># add和commit合成一条</span>
<span class="o">!</span>git commit -a -m <span class="s2">&quot;Upadate 3: advanced request&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[master 3ac2e98] Upadate 3: advanced request
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 第一次push需要用户名密码，可能需要在terminal输入</span>
<span class="c1"># 因为国内push总超时，这是用shadowsocks代理的方法</span>
<span class="o">!</span>git config --global http.https://github.com.proxy socks5://127.0.0.1:1086
<span class="o">!</span>git config --global https.https://github.com.proxy socks5://127.0.0.1:1086
<span class="o">!</span>git push
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Enumerating objects: 12, done.
Counting objects: 100% (10/10), done.
Delta compression using up to 4 threads
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 573 bytes | 573.00 KiB/s, done.
Total 6 (delta 3), reused 0 (delta 0)
remote: Resolving deltas: 100% (3/3), completed with 2 local objects.
remote: 
remote: GitHub found 1 vulnerability on neo4dev/crawler_from_scratch&#39;s default branch (1 moderate). To find out more, visit:
remote:      https://github.com/neo4dev/crawler_from_scratch/network/alerts
remote: 
To https://github.com/neo4dev/crawler_from_scratch.git
   67a8969..3ac2e98  master -&gt; master
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git pull
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>remote: Enumerating objects: 10, done.
remote: Counting objects: 100% (10/10), done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 7 (delta 4), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (7/7), done.
From https://github.com/neo4dev/crawler_from_scratch
   1e2fc73..67a8969  master     -&gt; origin/master
 * [new branch]      dependabot/bundler/docs/nokogiri-1.10.8 -&gt; origin/dependabot/bundler/docs/nokogiri-1.10.8
hint: Waiting for your editor to close the file... 7=&#34;~/crawler_from_scratch/.git/MERGE_MSG&#34; 7L, 300C▽  t;c]10;?]11;?Merge branch &#39;master&#39; of https://github.com/neo4dev/crawler_from_scratch

# Please enter a commit message to explain why this merge is necessary,
# especially if it merges an updated upstream into a topic branch.
#
# Lines starting with &#39;#&#39; will be ignored, and an empty message aborts
# the commit.
<span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span><span class="ansi-blue-intense-fg ansi-bold">~                                                                               </span>Type  :qa  and press &lt;Enter&gt; to exit Vim</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}
</div>
 

